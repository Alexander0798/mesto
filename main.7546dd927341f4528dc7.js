!function(){"use strict";var e={85:function(e,t,n){e.exports=n.p+"4c0dd281ed290172cc25.jpg"},388:function(e,t,n){e.exports=n.p+"ebfedd2c63f286190692.jpg"},93:function(e,t,n){e.exports=n.p+"6a454dbebac8a0c1271d.jpg"},255:function(e,t,n){e.exports=n.p+"82d18be89594d053c2a2.jpg"},736:function(e,t,n){e.exports=n.p+"c8c988e0d459c59423b7.jpg"},308:function(e,t,n){e.exports=n.p+"76df5cccb291806e252c.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_handleOriginalResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"_getAllTasks",value:function(){fetch(this._url,{method:"GET",headers:this._headers}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardSelector.content.querySelector(".card__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".card__img").src=this._link,this._element.querySelector(".card__img").alt=this._name,this._element.querySelector(".card__label").textContent=this._name,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__button-like").addEventListener("click",(function(e){e.target.classList.toggle("card_like-active")})),this._element.querySelector(".card__button-remove").addEventListener("click",(function(){e._element.remove()})),this._element.querySelector(".card__img").addEventListener("click",(function(){e._handleCardClick(e._link,e._name)}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=t.formSelector,this._input=t.inputSelector,this._inputInvalid=t.inputErrorClass,this._submit=t.submitButtonSelector,this._inactiveButton=t.inactiveButtonClass,this._errorVisible=t.errorVisible,this._formElement=n,this._formInput=this._formElement.querySelectorAll(this._input)}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"toogleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButton),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButton),this._buttonElement.removeAttribute("disabled"))}},{key:"getErrorElement",value:function(e){return e.closest(".popup__label").querySelector(".popup__error")}},{key:"_showInputError",value:function(e,t){var n=this.getErrorElement(e);n.classList.add(this._errorVisible),n.textContent=t,e.classList.add(this._inputInvalid)}},{key:"_hideInputError",value:function(e){var t=this.getErrorElement(e);t.classList.remove(this._errorVisible),t.textContent="",e.classList.remove(this._inputInvalid)}},{key:"ressetValidForm",value:function(){var e=this;this._formInput.forEach((function(t){e._hideInputError(t)})),this.toogleButtonState()}},{key:"enableValidation",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._input)),this._buttonElement=this._formElement.querySelector(this._submit),this.toogleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toogleButtonState()}))}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function y(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImg=t._popup.querySelector(".popup__img"),t._cardCaption=t._popup.querySelector(".popup__figcaption"),t}return t=u,(n=[{key:"open",value:function(e,t){p(d(u.prototype),"open",this).call(this),this._popupImg.src=e,this._popupImg.alt=t,this._cardCaption.textContent=t}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){v(j(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;v(j(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit(e._getInputValues()),e.close()}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._containerElement=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._containerElement.append(e)}},{key:"prependItem",value:function(e){this._containerElement.prepend(e)}},{key:"addInitialItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.name,r=t.job;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._job=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),P=[{name:"Лето, Солне, Песок!",link:new URL(n(85),n.b)},{name:"Эльбрус это, что то",link:new URL(n(388),n.b)},{name:"Закат Великолепен",link:new URL(n(93),n.b)},{name:"Супер Заправка",link:new URL(n(255),n.b)},{name:"Отцвели",link:new URL(n(736),n.b)},{name:"Почти Утонула",link:new URL(n(308),n.b)}],C={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_inactive",inputErrorClass:"popup__input_error",errorVisible:"popup__error_visible"},R=document.querySelector(".page"),q=R.querySelector(".profile__button-edit"),x=R.querySelector(".profile__button-add"),T=R.querySelector("#popupEditInfo"),B=R.querySelector("#popupAddCard"),V=R.querySelector("#popupImgZoom"),A=R.querySelector(".profile__title"),U=R.querySelector(".profile__job"),D=document.forms.editInfo.name,N=document.forms.editInfo.job,$=document.forms.editInfo,F=document.forms.addNewCard,z=R.querySelector(".gallery"),G=document.querySelector("#item-temlate");new t({url:"https://nomoreparties.co/v1/cohort-41/users/me",headers:{authorization:"886b3744-7951-454a-97ed-ee1e81c113bf","Content-Type":"application/json"}})._getAllTasks();var M=function(e){return new o(e,G,(function(e,t){X.open(e,t)})).generateCard()},Z=new O({items:P,renderer:function(e){Z.addItem(M(e))}},z);Z.addInitialItems();var H=new u(C,$),J=new u(C,F);H.enableValidation(),J.enableValidation();var K=new I({name:A,job:U}),Q=new k(T,(function(e){K.setUserInfo(e.name,e.job)})),W=new k(B,(function(e){var t=M(e);Z.prependItem(t)})),X=new _(V);Q.setEventListeners(),W.setEventListeners(),X.setEventListeners(),q.addEventListener("click",(function(){var e=K.getUserInfo();D.value=e.name,N.value=e.job,H.toogleButtonState(),Q.open()})),x.addEventListener("click",(function(){J.toogleButtonState(),W.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJaEQsRUFBZWlDLEdBRTNDeUIsRUFBVUksb0JBQ1ZGLEVBQVNFLG9CQUNUZCxFQUFTYyxvQkFJVGpDLEVBQWtCbkYsaUJBQWlCLFNBQVMsV0FDMUMsSUFBTXFILEVBQVdOLEVBQVlPLGNBQzdCNUIsRUFBZ0I5QixNQUFReUQsRUFBU2xJLEtBQ2pDMEcsRUFBZWpDLE1BQVF5RCxFQUFTekMsSUFDaENnQyxFQUFrQmxFLG9CQUNsQnNFLEVBQVVULFVBS1puQixFQUFpQnBGLGlCQUFpQixTQUFTLFdBQ3pDNkcsRUFBa0JuRSxvQkFDbEJ3RSxFQUFTWCxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuICBfaGFuZGxlT3JpZ2luYWxSZXNwb25zZShyZXMpIHtcbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgfVxuICBcbiAgX2dldEFsbFRhc2tzKCkge1xuICAgIGZldGNoKHRoaXMuX3VybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHJlcyA9PiByZXMuanNvbigpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZHMge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkU2VsZWN0b3JcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pdGVtJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnRcclxuICB9XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWcnKS5zcmMgPSB0aGlzLl9saW5rXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWcnKS5hbHQgPSB0aGlzLl9uYW1lXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19sYWJlbCcpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9saWtlLWFjdGl2ZScpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYnV0dG9uLXJlbW92ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1nJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm0gPSBjb25maWcuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXQgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0SW52YWxpZCA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9zdWJtaXQgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JWaXNpYmxlID0gY29uZmlnLmVycm9yVmlzaWJsZTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0KVxyXG4gIH1cclxuICAvLyDQvdC1INCy0LDQu9C40LTQvdGL0Lkg0Y3Qu9C10LzQtdC90YJcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgIH0pXHJcbiAgfVxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0YTQvtGA0LzRiyDQvdCwINCy0LDQu9C40LTQvdC+0LLRgdGMXHJcbiAgX2lzVmFsaWQoZm9ybUlucHV0KSB7XHJcbiAgICBpZiAoIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INC60L3QvtC/0LrQuCDRgdCw0LHQvNC40YJcclxuICB0b29nbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b24pXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b24pXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vINGN0LvQtdC80LXQvdGCINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgZ2V0RXJyb3JFbGVtZW50KGZvcm1JbnB1dCkge1xyXG4gICAgcmV0dXJuIGZvcm1JbnB1dC5jbG9zZXN0KCcucG9wdXBfX2xhYmVsJykucXVlcnlTZWxlY3RvcignLnBvcHVwX19lcnJvcicpO1xyXG4gIH1cclxuICAvLyDQvtGI0LjQsdC60LAg0LLQuNC00L3QsFxyXG4gIF9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGVycm9yTWVzc2VnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5nZXRFcnJvckVsZW1lbnQoZm9ybUlucHV0KVxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JWaXNpYmxlKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2VnZVxyXG4gICAgZm9ybUlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRJbnZhbGlkKTtcclxuICB9XHJcbiAgLy8g0L7RiNC40LHQutCwINGB0LrRgNGL0YLQsFxyXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZ2V0RXJyb3JFbGVtZW50KGZvcm1JbnB1dClcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yVmlzaWJsZSk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZCk7XHJcbiAgfVxyXG4gIC8vINGB0LHRgNC+0YEg0L/QvtC70LXQuSDQvtGI0LjQsdC60LhcclxuICByZXNzZXRWYWxpZEZvcm0oKSB7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXQuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQpXHJcbiAgICB9KVxyXG4gICAgdGhpcy50b29nbGVCdXR0b25TdGF0ZSgpXHJcbiAgfVxyXG5cclxuICAvLyDQv9C10YDQtdC00LDRkdGCINC00LDQvdC90YvQtSDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCkpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0KTtcclxuICAgIHRoaXMudG9vZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgICAgZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQoZm9ybUlucHV0KTtcclxuICAgICAgICB0aGlzLnRvb2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9ICBwb3B1cFNlbGVjdG9yXHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7ICAgLy8g0LfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQvyDQvdCw0LbQsNGC0LjQtdC8INC90LAgXCJFc2NhcGVcIlxyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyAgIC8vINGD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuFxyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4geyAgLy8g0LfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQv9CwINC90LDQttCw0YLQuNC10Lwg0L3QsCDQutGA0LXRgdGC0LjQuiDQuNC70Lgg0L7QstC10YDQu9C10LlcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnV0dG9uLWNsb3NlJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9wb3B1cEltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICB0aGlzLl9jYXJkQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmlnY2FwdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEltZy5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWcuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcmRDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0ID0gaGFuZGxlU3VibWl0Rm9ybVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGRhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKClcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7ICAgLy8g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQu9GD0YjQsNGC0LXQu9C4XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudC5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBwcmVwZW5kSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBhZGRJbml0aWFsSXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvciAoe25hbWUsIGpvYn0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iID0gam9iO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge25hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50fTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5ld05hbWUsIG5ld0pvYikge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld05hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBuZXdKb2I7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IEltYWdlQ2FyZDEgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0xLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDIgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0yLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDMgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0zLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDQgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW00LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDUgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW01LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDYgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW02LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICfQm9C10YLQviwg0KHQvtC70L3QtSwg0J/QtdGB0L7QuiEnLFxyXG4gICAgbGluazogSW1hZ2VDYXJkMVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Ct0LvRjNCx0YDRg9GBINGN0YLQviwg0YfRgtC+INGC0L4nLFxyXG4gICAgbGluazogSW1hZ2VDYXJkMlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CX0LDQutCw0YIg0JLQtdC70LjQutC+0LvQtdC/0LXQvScsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQzXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KHRg9C/0LXRgCDQl9Cw0L/RgNCw0LLQutCwJyxcclxuICAgIGxpbms6IEltYWdlQ2FyZDRcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQntGC0YbQstC10LvQuCcsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQ1XHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0J/QvtGH0YLQuCDQo9GC0L7QvdGD0LvQsCcsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQ2XHJcbiAgfVxyXG5dO1xyXG5cclxuLy8g0L7QsdGK0LXQutGCINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0JyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdF9pbmFjdGl2ZScsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X2Vycm9yJyxcclxuICBlcnJvclZpc2libGU6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcclxufVxyXG5cclxuXHJcblxyXG4vLyDQutC+0L3RgtC10LnQvdC10YAg0LIg0LrQvtGC0L7RgNC+0Lwg0LvQtdC20LjRgiDQstC10YHRjCDQutC+0L3RgtC10L3RglxyXG5jb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKTtcclxuXHJcbi8vINC60L3QvtC/0LrQuDog0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/RgNC+0YTQuNC70YwsINC00L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVkaXQgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkFkZCA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1hZGQnKTtcclxuXHJcbi8vINC/0L7Qv9Cw0L/Ri1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0SW5mbyA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwRWRpdEluZm8nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwQWRkQ2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBPcGVuWm9vbSA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwSW1nWm9vbScpO1xyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyDQv9GA0L7RhNC40LvRj1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2pvYicpO1xyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyBmb3JtIGVkaXRcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TmFtZSA9IGRvY3VtZW50LmZvcm1zLmVkaXRJbmZvLm5hbWVcclxuZXhwb3J0IGNvbnN0IHB0b2ZpbGVFZGl0Sm9iID0gZG9jdW1lbnQuZm9ybXMuZWRpdEluZm8uam9iXHJcblxyXG4vLyBmb3Jtc1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRFZGl0ID0gZG9jdW1lbnQuZm9ybXMuZWRpdEluZm9cclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50QWRkID0gZG9jdW1lbnQuZm9ybXMuYWRkTmV3Q2FyZFxyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyDQs9Cw0LvQu9C10YDQtdC4INC4INGC0LXQvNC/0LvQtdC50YIg0LrQvtC90YLQtdC50L3QtdGA0LBcclxuZXhwb3J0IGNvbnN0IGdhbGxlcnlDb250YWluZXIgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jyk7XHJcbmV4cG9ydCBjb25zdCB0ZW1sYXRlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2l0ZW0tdGVtbGF0ZScpXHJcblxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJzsgLy8g0YHRgtC40LvQuCDQtNC70Y8gd2VicGFja1xuXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJ1xuaW1wb3J0IENhcmRzIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZHMuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdE5hbWUsXG4gIHB0b2ZpbGVFZGl0Sm9iLFxuICBwcm9maWxlTmFtZSxcbiAgcHJvZmlsZUpvYixcbiAgaW5pdGlhbENhcmRzLFxuICBwcm9maWxlQnV0dG9uRWRpdCxcbiAgcHJvZmlsZUJ1dHRvbkFkZCxcbiAgZm9ybUVsZW1lbnRFZGl0LFxuICBmb3JtRWxlbWVudEFkZCxcbiAgZ2FsbGVyeUNvbnRhaW5lcixcbiAgdGVtbGF0ZUNvbnRhaW5lcixcbiAgcG9wdXBPcGVuWm9vbSxcbiAgcG9wdXBBZGRDYXJkLFxuICBwb3B1cEVkaXRJbmZvXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWUnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzg4NmIzNzQ0LTc5NTEtNDU0YS05N2VkLWVlMWU4MWMxMTNiZicsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59KVxuYXBpLl9nZXRBbGxUYXNrcygpXG5cblxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZHMoaXRlbSwgdGVtbGF0ZUNvbnRhaW5lciwgKGxpbmssIG5hbWUpID0+IHtcbiAgICBwb3B1cEltZy5vcGVuKGxpbmssIG5hbWUpO1xuICB9KTtcbiAgcmV0dXJuIG5ld0NhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbi8vINGB0LXQutGG0LjRjyDQtNC70Y8g0LrQsNGA0YLQvtGH0LXQulxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIGl0ZW1zOiBpbml0aWFsQ2FyZHMsIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gIH1cbn0sIGdhbGxlcnlDb250YWluZXIpO1xuY2FyZFNlY3Rpb24uYWRkSW5pdGlhbEl0ZW1zKCk7ICAvLyDQtNC+0LHQsNCy0LjRgtGMINC90LDRh9Cw0LvRjNC90YvQtSDQutCw0YDRgtC+0YfQutC4XG5cbi8vINC30LDQv9GD0YHQuiDQstCw0LvQuNC00LDRhtC40Y8g0YTQvtGA0LxcbmNvbnN0IHByb2ZpbGVWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtRWxlbWVudEVkaXQpO1xuY29uc3QgYWRkQ2FyZFZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50QWRkKTtcbnByb2ZpbGVWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjQtSDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbmNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKHsgbmFtZTogcHJvZmlsZU5hbWUsIGpvYjogcHJvZmlsZUpvYiB9KTtcblxuY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0SW5mbywgKGRhdGEpID0+IHtcbiAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oZGF0YS5uYW1lLCBkYXRhLmpvYik7XG59KTtcblxuLy8g0YHQvtC30LTQsNC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LjQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70LXQvFxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZENhcmQsIChkYXRhKSA9PiB7XG4gIGNvbnN0IGFkZE5ld0NhcmQgPSBjcmVhdGVDYXJkKGRhdGEpO1xuICBjYXJkU2VjdGlvbi5wcmVwZW5kSXRlbShhZGROZXdDYXJkKTtcbn0pO1xuXG4vLyDRgdC+0LfQtNCw0L3QuNC1INC/0L7Qv9Cw0L8gYyDQutCw0YDRgtC40L3QutC+0LlcbmV4cG9ydCBjb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cE9wZW5ab29tKTtcbi8vINGD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuCDQtNC70Y8g0L/QvtC/0LDQv1xucG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEFkZC5zZXRFdmVudExpc3RlbmVycygpO1xucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8g0L7RgtGB0LvQtdC20LjQstCw0L3QuNC1INC60L3QvtC/0LrQuCBcItGA0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC/0YDQvtGE0LjQu9GMXCJcblxucHJvZmlsZUJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHVzZXJJbmZvID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZUVkaXROYW1lLnZhbHVlID0gdXNlckluZm8ubmFtZTtcbiAgcHRvZmlsZUVkaXRKb2IudmFsdWUgPSB1c2VySW5mby5qb2I7XG4gIHByb2ZpbGVWYWxpZGF0aW9uLnRvb2dsZUJ1dHRvblN0YXRlKCk7XG4gIHBvcHVwRWRpdC5vcGVuKCk7XG59KTtcblxuLy8g0L7RgtGB0LvQtdC20LjQstCw0L3QuNC1INC60L3QvtC/0LrQuCBcItC00L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1wiXG5cbnByb2ZpbGVCdXR0b25BZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGFkZENhcmRWYWxpZGF0aW9uLnRvb2dsZUJ1dHRvblN0YXRlKCk7XG4gIHBvcHVwQWRkLm9wZW4oKTtcbn0pO1xuXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93IiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiYiIsImJhc2VVUkkiLCJzZWxmIiwiaHJlZiIsIkFwaSIsImNvbmZpZyIsIl91cmwiLCJ1cmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIkNhcmRzIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9uZU5vZGUiLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsImFsdCIsInRleHRDb250ZW50IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInRhcmdldCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsIl9mb3JtIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0IiwiaW5wdXRTZWxlY3RvciIsIl9pbnB1dEludmFsaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJfc3VibWl0Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2Vycm9yVmlzaWJsZSIsImVycm9yVmlzaWJsZSIsIl9mb3JtRWxlbWVudCIsIl9mb3JtSW5wdXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2lucHV0TGlzdCIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiZm9ybUlucHV0IiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX2J1dHRvbkVsZW1lbnQiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbG9zZXN0IiwiZXJyb3JNZXNzZWdlIiwiZXJyb3JFbGVtZW50IiwiZ2V0RXJyb3JFbGVtZW50IiwiZm9yRWFjaCIsInRvb2dsZUJ1dHRvblN0YXRlIiwiQXJyYXkiLCJmcm9tIiwiX2lzVmFsaWQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1nIiwiX2NhcmRDYXB0aW9uIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyRWxlbWVudCIsImVsZW1lbnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwiaXRlbSIsIlVzZXJJbmZvIiwiam9iIiwiX2pvYiIsIm5ld05hbWUiLCJuZXdKb2IiLCJpbml0aWFsQ2FyZHMiLCJVUkwiLCJwYWdlIiwicHJvZmlsZUJ1dHRvbkVkaXQiLCJwcm9maWxlQnV0dG9uQWRkIiwicG9wdXBFZGl0SW5mbyIsInBvcHVwQWRkQ2FyZCIsInBvcHVwT3Blblpvb20iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJwcm9maWxlRWRpdE5hbWUiLCJmb3JtcyIsImVkaXRJbmZvIiwicHRvZmlsZUVkaXRKb2IiLCJmb3JtRWxlbWVudEVkaXQiLCJmb3JtRWxlbWVudEFkZCIsImFkZE5ld0NhcmQiLCJnYWxsZXJ5Q29udGFpbmVyIiwidGVtbGF0ZUNvbnRhaW5lciIsImF1dGhvcml6YXRpb24iLCJfZ2V0QWxsVGFza3MiLCJjcmVhdGVDYXJkIiwicG9wdXBJbWciLCJvcGVuIiwiZ2VuZXJhdGVDYXJkIiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiYWRkSW5pdGlhbEl0ZW1zIiwicHJvZmlsZVZhbGlkYXRpb24iLCJhZGRDYXJkVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwcm9maWxlSW5mbyIsInBvcHVwRWRpdCIsInNldFVzZXJJbmZvIiwicG9wdXBBZGQiLCJwcmVwZW5kSXRlbSIsInNldEV2ZW50TGlzdGVuZXJzIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyJdLCJzb3VyY2VSb290IjoiIn0=