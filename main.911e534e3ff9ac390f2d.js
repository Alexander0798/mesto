!function(){"use strict";var e={85:function(e,t,n){e.exports=n.p+"4c0dd281ed290172cc25.jpg"},388:function(e,t,n){e.exports=n.p+"ebfedd2c63f286190692.jpg"},93:function(e,t,n){e.exports=n.p+"6a454dbebac8a0c1271d.jpg"},255:function(e,t,n){e.exports=n.p+"82d18be89594d053c2a2.jpg"},736:function(e,t,n){e.exports=n.p+"c8c988e0d459c59423b7.jpg"},308:function(e,t,n){e.exports=n.p+"76df5cccb291806e252c.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var n,r;return n=t,(r=[{key:"_getAllTasks",value:function(){return fetch(this._url,{method:"GET",headers:this._headers})}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._cardSelector.content.querySelector(".card__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._element.querySelector(".card__img").src=this._link,this._element.querySelector(".card__img").alt=this._name,this._element.querySelector(".card__label").textContent=this._name,this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__button-like").addEventListener("click",(function(e){e.target.classList.toggle("card_like-active")})),this._element.querySelector(".card__button-remove").addEventListener("click",(function(){e._element.remove()})),this._element.querySelector(".card__img").addEventListener("click",(function(){e._handleCardClick(e._link,e._name)}))}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=t.formSelector,this._input=t.inputSelector,this._inputInvalid=t.inputErrorClass,this._submit=t.submitButtonSelector,this._inactiveButton=t.inactiveButtonClass,this._errorVisible=t.errorVisible,this._formElement=n,this._formInput=this._formElement.querySelectorAll(this._input)}var t,n;return t=e,(n=[{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"toogleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.classList.add(this._inactiveButton),this._buttonElement.setAttribute("disabled",!0)):(this._buttonElement.classList.remove(this._inactiveButton),this._buttonElement.removeAttribute("disabled"))}},{key:"getErrorElement",value:function(e){return e.closest(".popup__label").querySelector(".popup__error")}},{key:"_showInputError",value:function(e,t){var n=this.getErrorElement(e);n.classList.add(this._errorVisible),n.textContent=t,e.classList.add(this._inputInvalid)}},{key:"_hideInputError",value:function(e){var t=this.getErrorElement(e);t.classList.remove(this._errorVisible),t.textContent="",e.classList.remove(this._inputInvalid)}},{key:"ressetValidForm",value:function(){var e=this;this._formInput.forEach((function(t){e._hideInputError(t)})),this.toogleButtonState()}},{key:"enableValidation",value:function(){var e=this;this._inputList=Array.from(this._formElement.querySelectorAll(this._input)),this._buttonElement=this._formElement.querySelector(this._submit),this.toogleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toogleButtonState()}))}))}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=t}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup")||t.target.classList.contains("popup__button-close"))&&e.close()}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=f(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function h(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(r);if(o){var n=d(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImg=t._popup.querySelector(".popup__img"),t._cardCaption=t._popup.querySelector(".popup__figcaption"),t}return t=u,(n=[{key:"open",value:function(e,t){p(d(u.prototype),"open",this).call(this),this._popupImg.src=e,this._popupImg.alt=t,this._cardCaption.textContent=t}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}function E(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j(r);if(o){var n=j(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._inputList=Array.from(n._form.querySelectorAll(".popup__input")),n._submit=t,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"close",value:function(){v(j(u.prototype),"close",this).call(this),this._form.reset()}},{key:"setEventListeners",value:function(){var e=this;v(j(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._submit(e._getInputValues()),e.close()}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(c);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._containerElement=n}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._containerElement.append(e)}},{key:"prependItem",value:function(e){this._containerElement.prepend(e)}},{key:"addInitialItems",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&S(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.name,r=t.job;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=n,this._job=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),C=[{name:"Лето, Солне, Песок!",link:new URL(n(85),n.b)},{name:"Эльбрус это, что то",link:new URL(n(388),n.b)},{name:"Закат Великолепен",link:new URL(n(93),n.b)},{name:"Супер Заправка",link:new URL(n(255),n.b)},{name:"Отцвели",link:new URL(n(736),n.b)},{name:"Почти Утонула",link:new URL(n(308),n.b)}],P={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_inactive",inputErrorClass:"popup__input_error",errorVisible:"popup__error_visible"},q=document.querySelector(".page"),R=q.querySelector(".profile__button-edit"),x=q.querySelector(".profile__button-add"),T=q.querySelector("#popupEditInfo"),B=q.querySelector("#popupAddCard"),V=q.querySelector("#popupImgZoom"),A=q.querySelector(".profile__title"),U=q.querySelector(".profile__job"),D=document.forms.editInfo.name,N=document.forms.editInfo.job,$=document.forms.editInfo,F=document.forms.addNewCard,G=q.querySelector(".gallery"),M=document.querySelector("#item-temlate");new t({url:"https://nomoreparties.co/v1/cohort-41/users/me",headers:{authorization:"96eScBoG1MCkXSTAIKIfYXL2ymBZP2Ce","Content-Type":"application/json"}})._getAllTasks();var X=function(e){return new o(e,M,(function(e,t){Q.open(e,t)})).generateCard()},Z=new O({items:C,renderer:function(e){Z.addItem(X(e))}},G);Z.addInitialItems();var z=new u(P,$),K=new u(P,F);z.enableValidation(),K.enableValidation();var Y=new I({name:A,job:U}),H=new k(T,(function(e){Y.setUserInfo(e.name,e.job)})),J=new k(B,(function(e){var t=X(e);Z.prependItem(t)})),Q=new _(V);H.setEventListeners(),J.setEventListeners(),Q.setEventListeners(),R.addEventListener("click",(function(){var e=Y.getUserInfo();D.value=e.name,N.value=e.job,z.toogleButtonState(),H.open()})),x.addEventListener("click",(function(){K.toogleButtonState(),J.open()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxFQUFlakMsTUFBUXlELEVBQVN6QyxJQUNoQ2dDLEVBQWtCbEUsb0JBQ2xCc0UsRUFBVVQsVUFLWm5CLEVBQWlCcEYsaUJBQWlCLFNBQVMsV0FDekM2RyxFQUFrQm5FLG9CQUNsQndFLEVBQVNYLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkcy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9wb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuX3VybCA9IGNvbmZpZy51cmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xuICB9XG5cbiAgX2dldEFsbFRhc2tzKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl91cmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZHMge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkU2VsZWN0b3JcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pdGVtJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnRcclxuICB9XHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWcnKS5zcmMgPSB0aGlzLl9saW5rXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19pbWcnKS5hbHQgPSB0aGlzLl9uYW1lXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19sYWJlbCcpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZVxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2J1dHRvbi1saWtlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9saWtlLWFjdGl2ZScpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fYnV0dG9uLXJlbW92ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpXHJcbiAgICB9KVxyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9faW1nJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKVxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm0gPSBjb25maWcuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXQgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2lucHV0SW52YWxpZCA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9zdWJtaXQgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbiA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JWaXNpYmxlID0gY29uZmlnLmVycm9yVmlzaWJsZTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0KVxyXG4gIH1cclxuICAvLyDQvdC1INCy0LDQu9C40LTQvdGL0Lkg0Y3Qu9C10LzQtdC90YJcclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWRcclxuICAgIH0pXHJcbiAgfVxyXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0YTQvtGA0LzRiyDQvdCwINCy0LDQu9C40LTQvdC+0LLRgdGMXHJcbiAgX2lzVmFsaWQoZm9ybUlucHV0KSB7XHJcbiAgICBpZiAoIWZvcm1JbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGZvcm1JbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g0L/QtdGA0LXQutC70Y7Rh9C10L3QuNC1INC60L3QvtC/0LrQuCDRgdCw0LHQvNC40YJcclxuICB0b29nbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b24pXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b24pXHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vINGN0LvQtdC80LXQvdGCINGBINC+0YjQuNCx0LrQvtC5XHJcbiAgZ2V0RXJyb3JFbGVtZW50KGZvcm1JbnB1dCkge1xyXG4gICAgcmV0dXJuIGZvcm1JbnB1dC5jbG9zZXN0KCcucG9wdXBfX2xhYmVsJykucXVlcnlTZWxlY3RvcignLnBvcHVwX19lcnJvcicpO1xyXG4gIH1cclxuICAvLyDQvtGI0LjQsdC60LAg0LLQuNC00L3QsFxyXG4gIF9zaG93SW5wdXRFcnJvcihmb3JtSW5wdXQsIGVycm9yTWVzc2VnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5nZXRFcnJvckVsZW1lbnQoZm9ybUlucHV0KVxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JWaXNpYmxlKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2VnZVxyXG4gICAgZm9ybUlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRJbnZhbGlkKTtcclxuICB9XHJcbiAgLy8g0L7RiNC40LHQutCwINGB0LrRgNGL0YLQsFxyXG4gIF9oaWRlSW5wdXRFcnJvcihmb3JtSW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuZ2V0RXJyb3JFbGVtZW50KGZvcm1JbnB1dClcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yVmlzaWJsZSk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGZvcm1JbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0SW52YWxpZCk7XHJcbiAgfVxyXG4gIC8vINGB0LHRgNC+0YEg0L/QvtC70LXQuSDQvtGI0LjQsdC60LhcclxuICByZXNzZXRWYWxpZEZvcm0oKSB7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXQuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQpXHJcbiAgICB9KVxyXG4gICAgdGhpcy50b29nbGVCdXR0b25TdGF0ZSgpXHJcbiAgfVxyXG5cclxuICAvLyDQv9C10YDQtdC00LDRkdGCINC00LDQvdC90YvQtSDQtNC70Y8g0L/RgNC+0LLQtdGA0LrQuCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dCkpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0KTtcclxuICAgIHRoaXMudG9vZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChmb3JtSW5wdXQpID0+IHtcclxuICAgICAgZm9ybUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQoZm9ybUlucHV0KTtcclxuICAgICAgICB0aGlzLnRvb2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9ICBwb3B1cFNlbGVjdG9yXHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7ICAgLy8g0LfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQvyDQvdCw0LbQsNGC0LjQtdC8INC90LAgXCJFc2NhcGVcIlxyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyAgIC8vINGD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuFxyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4geyAgLy8g0LfQsNC60YDRi9GC0Ywg0L/QvtC/0LDQv9CwINC90LDQttCw0YLQuNC10Lwg0L3QsCDQutGA0LXRgdGC0LjQuiDQuNC70Lgg0L7QstC10YDQu9C10LlcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnV0dG9uLWNsb3NlJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vcG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9wb3B1cEltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICB0aGlzLl9jYXJkQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZmlnY2FwdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9wb3B1cEltZy5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWcuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcmRDYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykpO1xyXG4gICAgdGhpcy5fc3VibWl0ID0gaGFuZGxlU3VibWl0Rm9ybVxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGRhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKClcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7ICAgLy8g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQu9GD0YjQsNGC0LXQu9C4XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lckVsZW1lbnQgPSBjb250YWluZXJTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyRWxlbWVudC5hcHBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBwcmVwZW5kSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXJFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBhZGRJbml0aWFsSXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvciAoe25hbWUsIGpvYn0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iID0gam9iO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge25hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50fTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5ld05hbWUsIG5ld0pvYikge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5ld05hbWU7XHJcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBuZXdKb2I7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IEltYWdlQ2FyZDEgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0xLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDIgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0yLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDMgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW0zLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDQgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW00LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDUgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW01LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcbmNvbnN0IEltYWdlQ2FyZDYgPSBuZXcgVVJMKCcuLi9pbWFnZS9nYWxsZXJ5L2l0ZW02LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICfQm9C10YLQviwg0KHQvtC70L3QtSwg0J/QtdGB0L7QuiEnLFxyXG4gICAgbGluazogSW1hZ2VDYXJkMVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Ct0LvRjNCx0YDRg9GBINGN0YLQviwg0YfRgtC+INGC0L4nLFxyXG4gICAgbGluazogSW1hZ2VDYXJkMlxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CX0LDQutCw0YIg0JLQtdC70LjQutC+0LvQtdC/0LXQvScsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQzXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KHRg9C/0LXRgCDQl9Cw0L/RgNCw0LLQutCwJyxcclxuICAgIGxpbms6IEltYWdlQ2FyZDRcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQntGC0YbQstC10LvQuCcsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQ1XHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0J/QvtGH0YLQuCDQo9GC0L7QvdGD0LvQsCcsXHJcbiAgICBsaW5rOiBJbWFnZUNhcmQ2XHJcbiAgfVxyXG5dO1xyXG5cclxuLy8g0L7QsdGK0LXQutGCINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LxcclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxyXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5wb3B1cF9fc3VibWl0JyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdF9pbmFjdGl2ZScsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X2Vycm9yJyxcclxuICBlcnJvclZpc2libGU6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcclxufVxyXG5cclxuXHJcblxyXG4vLyDQutC+0L3RgtC10LnQvdC10YAg0LIg0LrQvtGC0L7RgNC+0Lwg0LvQtdC20LjRgiDQstC10YHRjCDQutC+0L3RgtC10L3RglxyXG5jb25zdCBwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UnKTtcclxuXHJcbi8vINC60L3QvtC/0LrQuDog0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/RgNC+0YTQuNC70YwsINC00L7QsdCw0LLQuNGC0Ywg0LrQsNGA0YLQvtGH0LrRg1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkVkaXQgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUJ1dHRvbkFkZCA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2J1dHRvbi1hZGQnKTtcclxuXHJcbi8vINC/0L7Qv9Cw0L/Ri1xyXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0SW5mbyA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwRWRpdEluZm8nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkQ2FyZCA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwQWRkQ2FyZCcpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBPcGVuWm9vbSA9IHBhZ2UucXVlcnlTZWxlY3RvcignI3BvcHVwSW1nWm9vbScpO1xyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyDQv9GA0L7RhNC40LvRj1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2pvYicpO1xyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyBmb3JtIGVkaXRcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0TmFtZSA9IGRvY3VtZW50LmZvcm1zLmVkaXRJbmZvLm5hbWVcclxuZXhwb3J0IGNvbnN0IHB0b2ZpbGVFZGl0Sm9iID0gZG9jdW1lbnQuZm9ybXMuZWRpdEluZm8uam9iXHJcblxyXG4vLyBmb3Jtc1xyXG5leHBvcnQgY29uc3QgZm9ybUVsZW1lbnRFZGl0ID0gZG9jdW1lbnQuZm9ybXMuZWRpdEluZm9cclxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50QWRkID0gZG9jdW1lbnQuZm9ybXMuYWRkTmV3Q2FyZFxyXG5cclxuLy8g0Y3Qu9C10LzQtdC90YLRiyDQs9Cw0LvQu9C10YDQtdC4INC4INGC0LXQvNC/0LvQtdC50YIg0LrQvtC90YLQtdC50L3QtdGA0LBcclxuZXhwb3J0IGNvbnN0IGdhbGxlcnlDb250YWluZXIgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5Jyk7XHJcbmV4cG9ydCBjb25zdCB0ZW1sYXRlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2l0ZW0tdGVtbGF0ZScpXHJcblxyXG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJzsgLy8g0YHRgtC40LvQuCDQtNC70Y8gd2VicGFja1xuXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJ1xuaW1wb3J0IENhcmRzIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZHMuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdE5hbWUsXG4gIHB0b2ZpbGVFZGl0Sm9iLFxuICBwcm9maWxlTmFtZSxcbiAgcHJvZmlsZUpvYixcbiAgaW5pdGlhbENhcmRzLFxuICBwcm9maWxlQnV0dG9uRWRpdCxcbiAgcHJvZmlsZUJ1dHRvbkFkZCxcbiAgZm9ybUVsZW1lbnRFZGl0LFxuICBmb3JtRWxlbWVudEFkZCxcbiAgZ2FsbGVyeUNvbnRhaW5lcixcbiAgdGVtbGF0ZUNvbnRhaW5lcixcbiAgcG9wdXBPcGVuWm9vbSxcbiAgcG9wdXBBZGRDYXJkLFxuICBwb3B1cEVkaXRJbmZvXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIHVybDogJ2h0dHBzOi8vbm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEvdXNlcnMvbWUnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzk2ZVNjQm9HMU1Da1hTVEFJS0lmWVhMMnltQlpQMkNlJyxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gIH1cbn0pXG5hcGkuX2dldEFsbFRhc2tzKClcblxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkcyhpdGVtLCB0ZW1sYXRlQ29udGFpbmVyLCAobGluaywgbmFtZSkgPT4ge1xuICAgIHBvcHVwSW1nLm9wZW4obGluaywgbmFtZSk7XG4gIH0pO1xuICByZXR1cm4gbmV3Q2FyZC5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuLy8g0YHQtdC60YbQuNGPINC00LvRjyDQutCw0YDRgtC+0YfQtdC6XG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcbiAgaXRlbXM6IGluaXRpYWxDYXJkcywgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgfVxufSwgZ2FsbGVyeUNvbnRhaW5lcik7XG5jYXJkU2VjdGlvbi5hZGRJbml0aWFsSXRlbXMoKTsgIC8vINC00L7QsdCw0LLQuNGC0Ywg0L3QsNGH0LDQu9GM0L3Ri9C1INC60LDRgNGC0L7Rh9C60LhcblxuLy8g0LfQsNC/0YPRgdC6INCy0LDQu9C40LTQsNGG0LjRjyDRhNC+0YDQvFxuY29uc3QgcHJvZmlsZVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FbGVtZW50RWRpdCk7XG5jb25zdCBhZGRDYXJkVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnRBZGQpO1xucHJvZmlsZVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkQ2FyZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oeyBuYW1lOiBwcm9maWxlTmFtZSwgam9iOiBwcm9maWxlSm9iIH0pO1xuXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEVkaXRJbmZvLCAoZGF0YSkgPT4ge1xuICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuam9iKTtcbn0pO1xuXG4vLyDRgdC+0LfQtNCw0L3QuNC1INC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuNC5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvQtdC8XG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQWRkQ2FyZCwgKGRhdGEpID0+IHtcbiAgY29uc3QgYWRkTmV3Q2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSk7XG4gIGNhcmRTZWN0aW9uLnByZXBlbmRJdGVtKGFkZE5ld0NhcmQpO1xufSk7XG5cbi8vINGB0L7Qt9C00LDQvdC40LUg0L/QvtC/0LDQvyBjINC60LDRgNGC0LjQvdC60L7QuVxuZXhwb3J0IGNvbnN0IHBvcHVwSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwT3Blblpvb20pO1xuLy8g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0YHQu9GD0YjQsNGC0LXQu9C4INC00LvRjyDQv9C+0L/QsNC/XG5wb3B1cEVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5wb3B1cEltZy5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyDQvtGC0YHQu9C10LbQuNCy0LDQvdC40LUg0LrQvdC+0L/QutC4IFwi0YDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0L/RgNC+0YTQuNC70YxcIlxuXG5wcm9maWxlQnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgdXNlckluZm8gPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlRWRpdE5hbWUudmFsdWUgPSB1c2VySW5mby5uYW1lO1xuICBwdG9maWxlRWRpdEpvYi52YWx1ZSA9IHVzZXJJbmZvLmpvYjtcbiAgcHJvZmlsZVZhbGlkYXRpb24udG9vZ2xlQnV0dG9uU3RhdGUoKTtcbiAgcG9wdXBFZGl0Lm9wZW4oKTtcbn0pO1xuXG4vLyDQvtGC0YHQu9C10LbQuNCy0LDQvdC40LUg0LrQvdC+0L/QutC4IFwi0LTQvtCx0LDQstC40YLRjCDQutCw0YDRgtC+0YfQutGDXCJcblxucHJvZmlsZUJ1dHRvbkFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgYWRkQ2FyZFZhbGlkYXRpb24udG9vZ2xlQnV0dG9uU3RhdGUoKTtcbiAgcG9wdXBBZGQub3BlbigpO1xufSk7XG5cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJvIiwib2JqIiwicHJvcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJiIiwiYmFzZVVSSSIsInNlbGYiLCJocmVmIiwiQXBpIiwiY29uZmlnIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwiQ2FyZHMiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiYWx0IiwidGV4dENvbnRlbnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiX2Zvcm0iLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXQiLCJpbnB1dFNlbGVjdG9yIiwiX2lucHV0SW52YWxpZCIsImlucHV0RXJyb3JDbGFzcyIsIl9zdWJtaXQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfZXJyb3JWaXNpYmxlIiwiZXJyb3JWaXNpYmxlIiwiX2Zvcm1FbGVtZW50IiwiX2Zvcm1JbnB1dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRMaXN0Iiwic29tZSIsImlucHV0RWxlbWVudCIsInZhbGlkaXR5IiwidmFsaWQiLCJmb3JtSW5wdXQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uRWxlbWVudCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImNsb3Nlc3QiLCJlcnJvck1lc3NlZ2UiLCJlcnJvckVsZW1lbnQiLCJnZXRFcnJvckVsZW1lbnQiLCJmb3JFYWNoIiwidG9vZ2xlQnV0dG9uU3RhdGUiLCJBcnJheSIsImZyb20iLCJfaXNWYWxpZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWciLCJfY2FyZENhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXJFbGVtZW50IiwiZWxlbWVudCIsImFwcGVuZCIsInByZXBlbmQiLCJpdGVtIiwiVXNlckluZm8iLCJqb2IiLCJfam9iIiwibmV3TmFtZSIsIm5ld0pvYiIsImluaXRpYWxDYXJkcyIsIlVSTCIsInBhZ2UiLCJwcm9maWxlQnV0dG9uRWRpdCIsInByb2ZpbGVCdXR0b25BZGQiLCJwb3B1cEVkaXRJbmZvIiwicG9wdXBBZGRDYXJkIiwicG9wdXBPcGVuWm9vbSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsInByb2ZpbGVFZGl0TmFtZSIsImZvcm1zIiwiZWRpdEluZm8iLCJwdG9maWxlRWRpdEpvYiIsImZvcm1FbGVtZW50RWRpdCIsImZvcm1FbGVtZW50QWRkIiwiYWRkTmV3Q2FyZCIsImdhbGxlcnlDb250YWluZXIiLCJ0ZW1sYXRlQ29udGFpbmVyIiwiYXV0aG9yaXphdGlvbiIsIl9nZXRBbGxUYXNrcyIsImNyZWF0ZUNhcmQiLCJwb3B1cEltZyIsIm9wZW4iLCJnZW5lcmF0ZUNhcmQiLCJjYXJkU2VjdGlvbiIsImFkZEl0ZW0iLCJhZGRJbml0aWFsSXRlbXMiLCJwcm9maWxlVmFsaWRhdGlvbiIsImFkZENhcmRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVJbmZvIiwicG9wdXBFZGl0Iiwic2V0VXNlckluZm8iLCJwb3B1cEFkZCIsInByZXBlbmRJdGVtIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ1c2VySW5mbyIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==